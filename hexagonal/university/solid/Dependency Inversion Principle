//Модулі верхнього рівня не повинні залежати від модулів нижнього рівня. Обидва повинні залежати від абстракцій.

#include <iostream>
using namespace std;

// не правильно: високорівневий клас напряму залежить від низькорівневого
class MySQLDatabase {
public:
    void saveData() { cout << "Saving to MySQL..." << endl; }
};

class DataProcessorBad {
    MySQLDatabase db;
public:
    void process() {
        cout << "Processing data..." << endl;
        db.saveData();
    }
};

// правильно: використовуємо абстракцію
class IDatabase {
public:
    virtual void saveData() = 0;
};

class MySQLDatabaseCorrect : public IDatabase {
public:
    void saveData() override { cout << "Saving to MySQL..." << endl; }
};

class MongoDatabase : public IDatabase {
public:
    void saveData() override { cout << "Saving to MongoDB..." << endl; }
};

class DataProcessor {
    IDatabase* db;
public:
    DataProcessor(IDatabase* database) : db(database) {}
    void process() {
        cout << "Processing data..." << endl;
        db->saveData();
    }
};
